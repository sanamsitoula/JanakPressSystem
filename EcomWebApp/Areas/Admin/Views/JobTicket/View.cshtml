@model Ecom.Models.JobTicketForma

@{
    int totalPage = 0;
   // int totalPrintTarget = 0;  
     ViewData["Title"] = "Job Ticket";

  
}


<style>
    .heading h5 {
        font-weight: 900;
    }

    table,
    th,
    td {
        border: 1px solid black !important;
    }

        table th,
        table td,
        .font-size-18-px {
            font-size: 12 px;
        }
</style>   

    <div class="container">
        <div class="heading text-center">
            <h1>जनक शिक्षा सामग्री केन्द्र लिमिटेड</h1>
            <h5>Production विभाग </h5>
            <h5>सानोठिमी,भक्तपुर </h5>
            <h5>(Printing शाखा)</h5>
        </div>
        <div class="row">
       
             @foreach (var obj in Model.jobstick)
                {
           
        <div class="col-md-4">
            <strong>
                    Job Ticket No.:@obj.Id / @obj.Name
            </strong>
            <br />
                <b>Class  : </b> <u>
                    @if(obj.Product.Title != null)
                {
                        @obj.Product.Class  
                    }
                </u>  <br />
                <b>Subject: @obj.Product.SubjectId</b><br />
                <b>Page Number : </b> <u>@obj.PageNumber</u>
               @*  <br /> <b>Page  : </b> <u>@obj.PrePrintSize</u>
                <br /> <b>Job Completion Date: @obj.JobCompleteDate.ToString();</b> *@

                <br /> <b>Job Start Date: @obj.JobStartDate</b>
        </div>
        <div class="col-md-4">
                <h5>  Lot Number : @obj.LotNumber |
                Year : @obj.FiscalYear  </h5>
        </div>
        <div class="col-md-4">
                <b>Job Code: @obj.Code</b><br />
                <b>Job Date: @obj.JobDate</b>
                <br />
                <b>Print Target: @obj.PrintTarget</b>
                <br />
                <b>Print Achieved: @obj.PrintAchieved</b>
        </div>
                }
        </div>
        
  
        
       
            <div class="table mt-5">
                <table class="table">
                    <thead>
                        <tr>
                            <th>S.N</th>
                            <th>Forma</th>
                            <th>Page </th>
                            <th>Print Target</th>
                            <th>Remarks</th>
                        </tr>
                    </thead>
                    <tbody>
                @{
                    int sn = 1; // Initialize the serial number counter
                } 
               
                        @foreach (var mo in Model.forma)
                        {
                    totalPage = totalPage + mo.Page ?? 0;
                  //  totalPrintTarget = totalPrintTarget + mo.PrintTarget ?? 0;
                            <tr>
                        <td>@sn</td> <!-- Output the serial number -->
                                <td>@mo.Name</td>
                                <td>@mo.Page</td>
                                <td>@mo.PrintTarget</td>
                        <td>@mo.Id |@mo.Remarks</td>

                            </tr>
                    sn++; // Increment the serial number counter
                        }
                <tr>
                    <td colspan="2">Total</td>
                    <td>@totalPage</td>
                   @*  <td>@totalPrintTarget</td> *@
                    <td></td> <!-- You may leave this empty or adjust as per your design -->
                </tr>
                    </tbody>
                    </table>
                    </div>
                   

    <div class="signature float-right m-5" style="float: right !important;">
        <div class="image">

            <img src="https://jemc.bidhee.net/uploads/employee/signature/2023-08-14-06-00-59-narahari_shrestha_signature.JPG" alt="" height="100px">
        </div>
        <div class="dot">
            .................
        </div>
        <b>Created By</b> </br>
    </div>

    <div class="container mt-4 text-center no-print">
        <button onclick="window.print()" class="btn btn-primary">Print</button>
    </div>
